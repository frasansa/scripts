---
title: "Tools"
author: "Francisco Sanchez-Saez"
format: html
editor: source
---

# Append images

```{r}
library(magick)

```

```{r}
# Append "image1.png", "image2.png", and "image3.png"------------------------
image1 <- image_read(file.path("Images", "image1.png"))
image2 <- image_read(file.path("Images", "image2.png"))
image3 <- image_read(file.path("Images", "image3.png"))

# Append the images horizontally
image2_3 <- image_append(c(image2, image3), stack = FALSE)
sign_image <- image_append(c(image1, image2_3), stack = TRUE)

# Save the result to a new image
image_write(sign_image, path = file.path("Images", "sign_image.png"))

```


```{r}
# Combine images
logo <- image_read("https://jeroen.github.io/images/Rlogo.png")
oldlogo <- image_read("https://jeroen.github.io/images/Rlogo-old.png")

# Create morphing animation
both <- image_scale(c(oldlogo, logo), "400")
image_average(image_crop(both))
image_animate(image_morph(both, 10))

# Create thumbnails from GIF
banana <- image_read("https://jeroen.github.io/images/banana.gif")
length(banana)
image_average(banana)
image_flatten(banana)
image_append(banana)
image_append(banana, stack = TRUE)

# Append images together
wizard <- image_read("wizard:")
image_append(image_scale(c(image_append(banana[c(1,3)], stack = TRUE), wizard)))

image_composite(banana, image_scale(logo, "300"))

# Break down and combine frames
front <- image_scale(banana, "300")
background <- image_background(image_scale(logo, "400"), 'white')
frames <- image_apply(front, function(x){image_composite(background, x, offset = "+70+30")})
image_animate(frames, fps = 10)
# Simple 4x3 montage
input <- rep(logo, 12)
image_montage(input, geometry = 'x100+10+10', tile = '4x3', bg = 'pink', shadow = TRUE)

# With varying frame size
input <- c(wizard, wizard, logo, logo)

```


```{r}
# Append "image1.png", "image2.png", and "image3.png"------------------------
image1 <- image_read(file.path("Images", "image1.png"))
image2 <- image_read(file.path("Images", "image2.png"))
image3 <- image_read(file.path("Images", "image3.png"))

# Append the images horizontally
image2_3 <- image_montage(c(image2, image3), 
                          tile = "2X1",
                          gravity = "south",
                          geometry = "1000",
                          bg = "white"
                          )

image1_bis <- image_montage(c(image1), 
                          tile = "1X1",
                          gravity = "south",
                          geometry = "1000",
                          bg = "white"
                          )

sign_image <- image_append(c(image1, image2_3), stack = TRUE)

# Save the result to a new image
image_write(sign_image, path = file.path("Images", "sign_image.png"))

```

